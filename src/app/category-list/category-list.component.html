<p>
  <a mat-tab-link [routerLink]="['/cart']">Cart</a>
  <a *ngIf="!token" mat-tab-link [routerLink]="['/registration']">Registration</a>
  <a *ngIf="!token" mat-tab-link [routerLink]="['/registration/login']">Login</a>
  <span *ngIf="token">Logged as: {{token}}</span>
  <button *ngIf="token" (click)="logout()">Logout</button>
</p>

<p>
  Categories:
</p>

<div style="text-align: left;">
<ul>
  <ng-template #categoriesList let-categories>
    <li *ngFor="let c of categories">
      <a mat-tab-link [routerLink]="['/catalog/category', c.id]">{{c.name}}</a>

      <ul *ngIf="c.subcategories.length > 0">
        <ng-container *ngTemplateOutlet="categoriesList; context:{ $implicit: c.subcategories }"></ng-container>
      </ul>
    </li>
  </ng-template>

  <ng-container *ngTemplateOutlet="categoriesList; context:{ $implicit: categories | async }"></ng-container>
</ul>
</div>
